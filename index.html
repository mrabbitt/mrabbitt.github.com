<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta charset="utf-8"><meta name="title" content="①＝③"><meta name="description" content="One is 3"><meta name="author" content="Michael Rabbitt"><title>①＝③</title><!-- Le styles --><link href="assets/css/bootstrap.css" rel="stylesheet" type="text/css"><link href="assets/css/rst.css" rel="stylesheet" type="text/css"><link href="assets/css/code.css" rel="stylesheet" type="text/css"><link href="assets/css/colorbox.css" rel="stylesheet" type="text/css"><link href="assets/css/slides.css" rel="stylesheet" type="text/css"><link href="assets/css/theme.css" rel="stylesheet" type="text/css"><link href="assets/css/bootstrap-responsive.css" rel="stylesheet" type="text/css"><script src="assets/js/jquery-1.7.2.min.js" type="text/javascript"></script><script src="assets/js/jquery.colorbox-min.js" type="text/javascript"></script><script src="assets/js/slides.min.jquery.js" type="text/javascript"></script><script src="assets/js/bootstrap.min.js" type="text/javascript"></script><!-- Le HTML5 shim, for IE6-8 support of HTML5 elements --><!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS (en)" href="rss.xml"></head><body>
<!-- Menubar -->
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </a>

            <a class="brand" href=".">
            ①＝③
            </a>
            <!-- Everything you want hidden at 940px or less, place within here -->
            <div class="nav-collapse collapse">
                <ul class="nav"><li><a href="archive.html">Archives</a>
            </li><li><a href="categories/index.html">Tags</a>

                </li></ul><ul class="nav pull-right"></ul></div>
        </div>
    </div>
</div>
<!-- End of Menubar -->
<div class="container-fluid" id="container-fluid">
    <!--Body content-->
    <div class="row-fluid">
    <div class="span2"></div>
    <div class="span8">
    
        <div class="postbox">
        <h1><a href="posts/confluence-numbered-heading-bookmarklet.html">Confluence numbered heading bookmarklet</a>
        <small>  
             Posted: 2013-01-20 19:42
        </small></h1>
        <hr><div><p>Unfortunately, the <a href="https://marketplace.atlassian.com/plugins/nl.avisi.confluence.plugins.numberedheadings">Numbered Heading Confluence plugin</a> isn't available for <a href="https://confluence.atlassian.com/display/AOD/Atlassian+OnDemand+Plugin+Policy#AtlassianOnDemandPluginPolicy-Confluence">Atlassian OnDemand</a>, and Atlassian doesn't seem to be in any hurry to implement <a href="https://jira.atlassian.com/browse/CONF-1732">CONF-1732</a>, so I put together this poor-man's hack:</p>
<p>This bookmarklet adds hierarchical section numbers to the section headers on the current confluence page. Note that it does not permanently change the content of the page; it only transforms the displayed HTML until the page is re-loaded. One of these days I'll figure out how to get this to work as a <a href="http://userscripts.org/">user script</a>.</p>
<p><a href="javascript:%28function%28%29%2520%7Bfunction%2520addSectionNumber%2520%28elem%2C%2520sectionNumber%2C%2520parentSection%2C%2520level%29%2520%7Bvar%2520sectionNumberStr%2520%3D%2520%2527%2527%3Bvar%2520sectionSpan%3Bif%2520%28level%2520%3E%25201%29%2520%7BsectionNumberStr%2520%3D%2520parentSection%2520%2B%2520%2527.%2527%2520%2B%2520sectionNumber%3B%7D%2520else%2520if%2520%28level%2520%3E%25200%29%2520%7BsectionNumberStr%2520%3D%2520sectionNumber.toString%28%29%3B%7Dif%2520%28level%2520%3E%25200%2520%26%26%2520jQuery%28elem%29.find%28%2527.section-number%2527%29.length%2520%3D%3D%3D%25200%2520%29%2520%7BsectionSpan%2520%3D%2520jQuery%28%2527%3Cspan%2520class%3D%2522section-number%2522%3E%2527%29.text%28sectionNumberStr%2520%2B%2520%2527%2520%2527%29%3BjQuery%28elem%29.prepend%28sectionSpan%29%3B%7Dif%2520%28%2520level%2520%3D%3D%3D%25200%2520%29%2520%7BjQuery%28elem%29.find%28%2527h1%2527%29.each%28%2520function%28index%2C%2520element%29%2520%7BaddSectionNumber%28element%2C%2520%28index%2520%2B%25201%29%2C%2520sectionNumberStr%2C%2520%28level%2520%2B%25201%29%29%3B%7D%29%3B%7D%2520else%2520if%2520%28%2520level%2520%3C%25206%2520%29%2520%7BjQuery%28elem%29.nextUntil%28%2527h%2527%2520%2B%2520level%2C%2520%2527h%2527%2520%2B%2520level%2520%2B%2520%2527%2Ch%2527%2520%2B%2520%28level%2520%2B%25201%29%29.each%28%2520function%28index%2C%2520element%29%2520%7BaddSectionNumber%28element%2C%2520%28index%2520%2B%25201%29%2C%2520sectionNumberStr%2C%2520%28level%2520%2B%25201%29%29%3B%7D%29%3B%7Dreturn%3B%7DaddSectionNumber%28jQuery%28%2527%23main-content%2527%29.first%28%29%2C%25200%2C%2520%2527%2527%2C%25200%29%3B%7D%29%28%29%3B">Confluence numbered section header bookmarklet</a></p>
<p>Source:</p>
<script src="https://gist.github.com/4582903.js"></script></div>
        
    <p>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/oneis3com.html">oneis3.com</a>
        <small>  
             Posted: 2013-01-12 23:26
        </small></h1>
        <hr><div><p>Today I set up a new coding blog on <a href="http://www.oneis3.com">oneis3.com</a>.  I've tinkered in the past with Blogger and Tumblr, but this time I decided to go with a different solution which gives me more control of my content.  This site is generated using <a href="http://nikola.ralsina.com.ar">Nikola</a>, a static site generator implemented in Python.  Hosting is provided via <a href="http://pages.github.com">Github Pages</a> (see the <a href="https://github.com/mrabbitt/mrabbitt.github.com">mrabbitt.github.com repo</a>).</p>
<p>I've been writing lots of little Python scripts and JavaScript bookmarklets lately which I hope to share here.  Perhaps some <a href="http://grails.org">Grails</a>/<a href="http://groovy.codehaus.org">Groovy</a>/Java discoveries from my day job will also find there way here.</p></div>
        
    <p>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/python-script-to-download-splunk-documentation-pdfs.html">Python Script to download Splunk Documentation PDFs</a>
        <small>  
             Posted: 2012-11-20 16:33
        </small></h1>
        <hr><script src="https://gist.github.com/4121269.js"></script><p>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/open-in-sourcetree-from-intellij-idea.html">Open in SourceTree from IntelliJ IDEA</a>
        <small>  
             Posted: 2012-07-05 12:11
        </small></h1>
        <hr><div><p>I'm quite fond of <a href="http://www.sourcetreeapp.com/">SourceTree</a> for managing Git repositories (it does Mercurial as well).  SourceTree comes with an <code>stree</code> command to open repositories from the command line.  I wanted to set up an <a href="http://www.jetbrains.com/idea/webhelp/external-tools.html">external tool in IntelliJ IDEA</a> to the repo containing the current source file, <code>stree</code> only works if you call it without any arguments with a current working directory of the root level of a repo, or if you pass the path to the root level of a repo as an argument.  This is fine if you have only a single Git source root in your IntelliJ project:  You can just use call <code>stree</code> directly with the <code>$ProjectFileDir$</code> macro as a parameter.  But if you have multiple modules in your project with different Git source roots, it gets more difficult.  I tried using the <code>$ModuleFileDir$</code> macro, but this seems to the directory where the <code>.iml</code> file for the module is stored, which is not the source root of the module.</p>
<p>So, I ended up writing a small wrapper for <code>stree</code> which can take the path to any file or directory within a Git or Mercurial repo as an argument and invokes <code>stree</code> with the path to the root of the repo:</p>
<script src="https://gist.github.com/3051104.js"></script></div>
        
    <p>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/diff-ing-zip-files-with-filemerge.html">Diff-ing .zip files with FileMerge</a>
        <small>  
             Posted: 2010-12-13 10:36
        </small></h1>
        <hr><div><p>This isn't particularly elegant, but you can use the FileMerge application that comes with Mac OS X developer tools to compare the contents of zip files using a custom filter.</p>
<p>Create a script <code>~/bin/zip_filemerge_filter.bash</code> with contents:</p>
<div class="code"><pre><span class="c">##</span>
<span class="c">#  List the size, CR-32 checksum, and file path of each file in a zip archive,</span>
<span class="c">#  sorted in order by file path.</span>
<span class="c">##</span>
<span class="nb">unzip</span> <span class="o">-</span><span class="n">v</span> <span class="o">-</span><span class="n">l</span> <span class="s">"${1}"</span> <span class="o">|</span> <span class="nb">cut</span> <span class="o">-</span><span class="n">c</span> <span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span><span class="mi">59</span><span class="o">-</span><span class="p">,</span><span class="mi">49</span><span class="o">-</span><span class="mi">57</span> <span class="o">|</span> <span class="nb">sort</span> <span class="o">-</span><span class="n">k3</span>
<span class="nb">exit</span> $?
<span class="n">Make</span> <span class="n">the</span> <span class="n">script</span> <span class="n">executable</span> <span class="p">(</span><span class="n">chmod</span> <span class="o">+</span><span class="n">x</span> <span class="o">~/</span><span class="n">bin</span><span class="o">/</span><span class="n">zip_filemerge_filter</span><span class="p">.</span><span class="n">bash</span><span class="p">).</span>
</pre></div>


<p>Open FileMerge, open the Preferences, and go to the "Filters" tab. Add an item to the list with:</p>
<ul><li>Extension: <code>zip</code> <em>(I've also added the filer for <code>.jar</code> and <code>.war</code> files.)</em></li>
<li>Filter: <code>~/bin/zip_filemerge_filter.bash $(FILE)</code></li>
<li>Display: <em>Filtered</em></li>
<li>Apply: <em>No</em></li>
</ul><p>Then use FileMerge (or the command line <code>opendiff</code> wrapper) to compare two .zip files.</p>
<p>This won't let you diff the contents of files within the zip archives, but will let you quickly see which files appear within one only archive and which files exist in both but have different content (i.e. different size and/or checksum).</p>
<p>(<em>Cross-posted on
<a href="http://stackoverflow.com/questions/587442/is-there-a-safe-way-to-run-a-diff-on-two-zip-compressed-files/4429169#4429169">StackOverflow</a> and <a href="http://michaelrabbitt.blogspot.com/2010/12/diff-ing-zip-files-with-filemerge.html">my old blogger blog</a>.</em>)</p></div>
        
    <p>

        </p></div>
    
<div>
<ul class="pager"></ul></div>

    


    </div>
    </div>
    <!--End of body content-->
</div>
<div class="footerbox">
    Contents © 2013 Michael Rabbitt - Powered by <a href="http://nikola.ralsina.com.ar">Nikola</a>
</div>



<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37668928-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script><script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"80%",maxHeight:"80%",scalePhotos:true});</script></body></html>