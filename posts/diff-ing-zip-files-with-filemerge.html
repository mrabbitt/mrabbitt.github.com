<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="Michael Rabbitt">
    <title>①ne is 3 ▶ Diff-ing .zip files with FileMerge</title>
    
            <link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
            <link href="../assets/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/code.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
        <link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
            <link href="../assets/css/custom.css" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
            <link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">

    
    
    
    <meta name="author" content="Michael Rabbitt">
    

    

    


    
</head>
<body>
<!-- Menubar -->
<div class="navbar navbar-fixed-top" id="navbar">
    <div class="navbar-inner">
        <div class="container">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </a>

            <a class="brand" href="http://oneis3.com/">
            ①ne is 3
            </a>
            <!-- Everything you want hidden at 940px or less, place within here -->
            <div class="nav-collapse collapse">
                <ul class="nav">
                    
                <li>
<a href="../archive.html">Archives</a>
                </li>
<li>
<a href="../categories/index.html">Tags</a>
                </li>
<li>
<a href="../stories/about.html">About</a>
                </li>
<li>
<a href="../rss.xml">RSS</a>

                </li>
</ul>
                    
<!-- Custom search -->
<form method="get" id="search" action="http://duckduckgo.com/" class="navbar-form pull-right">
    <input type="hidden" name="sites" value="http://oneis3.com/">
    <input type="hidden" name="k8" value="#444444">
    <input type="hidden" name="k9" value="#D51920">
    <input type="hidden" name="kt" value="h">
    <input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;">
    <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->

                <ul class="nav pull-right">
                
                
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- End of Menubar -->
<div class="container-fluid" id="container-fluid">
    <!--Body content-->
    <div class="row-fluid">
    <div class="span2"></div>
    <div class="span8">
    
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
    
    <header>
        
    <h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Diff-ing .zip files with FileMerge</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Michael Rabbitt</span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2010-12-13T10:36:00+00:00" itemprop="datePublished" title="Publication date">2010-12-13 10:36</time></a></p>
                <p class="commentline">
        
    <a href="diff-ing-zip-files-with-filemerge.html#disqus_thread" data-disqus-identifier="cache/posts/diff-ing-zip-files-with-filemerge.html">Comments</a>


            

        </p>
</div>
        

    </header>

    <div class="e-content entry-content" itemprop="articleBody text">
    <p>This isn't particularly elegant, but you can use the FileMerge application that comes with Mac OS X developer tools to compare the contents of zip files using a custom filter.</p>
<p>Create a script <code>~/bin/zip_filemerge_filter.bash</code> with contents:</p>
<pre class="code literal-block">##
#  List the size, CR-32 checksum, and file path of each file in a zip archive,
#  sorted in order by file path.
##
unzip -v -l "<span class="cp">${</span><span class="mi">1</span><span class="cp">}</span>" | cut -c 1-9,59-,49-57 | sort -k3
exit $?
Make the script executable (chmod +x ~/bin/zip_filemerge_filter.bash).
</pre>


<p>Open FileMerge, open the Preferences, and go to the "Filters" tab. Add an item to the list with:</p>
<ul>
<li>Extension: <code>zip</code> <em>(I've also added the filer for <code>.jar</code> and <code>.war</code> files.)</em>
</li>
<li>Filter: <code>~/bin/zip_filemerge_filter.bash $(FILE)</code>
</li>
<li>Display: <em>Filtered</em>
</li>
<li>Apply: <em>No</em>
</li>
</ul>
<p>Then use FileMerge (or the command line <code>opendiff</code> wrapper) to compare two .zip files.</p>
<p>This won't let you diff the contents of files within the zip archives, but will let you quickly see which files appear within one only archive and which files exist in both but have different content (i.e. different size and/or checksum).</p>
<p>(<em>Cross-posted on
<a href="http://stackoverflow.com/questions/587442/is-there-a-safe-way-to-run-a-diff-on-two-zip-compressed-files/4429169#4429169">StackOverflow</a> and <a href="http://michaelrabbitt.blogspot.com/2010/12/diff-ing-zip-files-with-filemerge.html">my old blogger blog</a>.</em>)</p>
    </div>
    <aside class="postpromonav">
    <nav>
    
        <ul itemprop="keywords" class="tags">
           <li><a class="tag p-category" href="../categories/mac.html" rel="tag">Mac</a></li>
           <li><a class="tag p-category" href="../categories/stackoverflow.html" rel="tag">StackOverflow</a></li>
           <li><a class="tag p-category" href="../categories/bash.html" rel="tag">bash</a></li>
           <li><a class="tag p-category" href="../categories/migrated_from_blogger.html" rel="tag">migrated_from_blogger</a></li>
        </ul>

    
        <ul class="pager">
            <li class="next">
                <a href="open-in-sourcetree-from-intellij-idea.html" rel="next" title="Open in SourceTree from IntelliJ IDEA">Next post</a>
            </li>
        </ul>

    </nav>
    </aside>
        <section class="comments">
        <h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="nikolademo",
            disqus_url="http://oneis3.com/posts/diff-ing-zip-files-with-filemerge.html",
        disqus_title="Diff-ing .zip files with FileMerge",
        disqus_identifier="cache/posts/diff-ing-zip-files-with-filemerge.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section>
    

</article>

        
       <script>var disqus_shortname="nikolademo";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>



    </div>
    </div>
    <!--End of body content-->
</div>
<div class="footerbox">
    Contents © 2010-2014 Michael Rabbitt - Powered by <a href="http://getnikola.com">Nikola</a>
</div>

            <script src="../assets/js/jquery.min.js"></script>
            <script src="../assets/js/bootstrap.min.js"></script>
        <script src="../assets/js/jquery.colorbox-min.js"></script>
    

    <script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});
    $(window).on('hashchange', function(){
        if (location.hash && $(location.hash)[0]) {
            $('body').animate({scrollTop: $(location.hash).offset().top - $('#navbar').outerHeight(true)*1.2 }, 1);
        }
    });
    $(document).ready(function(){$(window).trigger('hashchange')});
    </script>
   
   
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37668928-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www')
            + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

   
</body>
</html>
